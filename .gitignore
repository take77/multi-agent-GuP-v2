# ══════════════════════════════════════════════════
# Whitelist-based .gitignore
# デフォルト全除外 → OSS公開対象のみ許可
# ══════════════════════════════════════════════════

# Node.js dependencies (exclude from repository)
node_modules/
scripts/monitor/node_modules/

# Step 1: 全て除外
*

# Step 2: ディレクトリの探索を許可（中身は個別に許可）
!*/

# Step 3: OSS公開対象ファイルを許可
!.gitignore
!.gitattributes
!.gitleaks.toml
!CLAUDE.md
!LICENSE
!README.md
!README_ja.md
!CONTRIBUTING.md
!SECURITY.md

# Claude Code settings (spinner verbs only, no secrets)
!.claude/
!.claude/settings.json

# Instructions (core OSS)
!instructions/
!instructions/shogun.md
!instructions/karo.md
!instructions/ashigaru.md

# Multi-CLI: CLI-specific tool descriptions
!instructions/cli_specific/
!instructions/cli_specific/claude_tools.md
!instructions/cli_specific/codex_tools.md
!instructions/cli_specific/copilot_tools.md
!instructions/cli_specific/kimi_tools.md

# Multi-CLI: Build template parts (roles, common sections)
!instructions/roles/
!instructions/roles/*.md
!instructions/common/
!instructions/common/*.md

# Multi-CLI: Generated instruction files (built by build_instructions.sh)
!instructions/generated/
!instructions/generated/*.md

# Multi-CLI: CLI adapter library + ntfy auth
!lib/
!lib/cli_adapter.sh
!lib/ntfy_auth.sh

# Multi-CLI: Codex auto-load file
!AGENTS.md

# Setup and deployment scripts
!shutsujin_departure.sh
!first_setup.sh
!setup.sh
!install.bat

# Development tooling
!Makefile

# Config (sample files only, no secrets)
!config/
!config/ntfy_auth.env.sample
!config/settings.yaml

# Templates
!templates/
!templates/**

# Context README
!context/
!context/README.md

# Scripts
!scripts/
!scripts/inbox_write.sh
!scripts/inbox_watcher.sh
!scripts/ntfy.sh
!scripts/ntfy_listener.sh
!scripts/build_instructions.sh
!scripts/check_inbox_on_stop.sh
!scripts/watcher_supervisor.sh
!scripts/bridge_relay.sh
!scripts/fallback_to_tmux.sh


# SayTask (sample template only, not actual data)
!saytask/
!saytask/streaks.yaml.sample

# Docs
!docs/
!docs/philosophy.md

# Screenshots (masked — no secrets)
!images/
!images/screenshots/
!images/screenshots/ntfy_saytask_rename.jpg
!images/screenshots/ntfy_cmd043_progress.jpg
!images/screenshots/ntfy_bloom_oc_test.jpg
!images/screenshots/ntfy_persona_eval_complete.jpg
!images/screenshots/ntfy_tasklist_v1_before.jpg
!images/screenshots/ntfy_tasklist_v2_aligned.jpg
!images/screenshots/ntfy_tasklist_final.jpg
!images/screenshots/tdd_ndd_rdd.png

# Skills (skill-creator only)
!skills/
!skills/skill-creator/
!skills/skill-creator/SKILL.md

# Tests
!tests/
!tests/*.bats
!tests/unit/
!tests/unit/*.bats
!tests/integration/
!tests/integration/*.bats
!tests/test_helper/
!tests/test_helper/README.md

# Test framework submodules
!tests/bats/

# CI/CD
!.github/
!.github/workflows/
!.github/workflows/*.yml

# Agent Teams hybrid mode base structure (cmd_023)
!instructions/
!instructions/agent_teams/
!instructions/agent_teams/.gitkeep
!instructions/agent_teams/*.md

!logs/
!logs/bridge/
!logs/bridge/.gitkeep
!logs/monitor/
!logs/monitor/.gitkeep

!scripts/
!scripts/monitor/
!scripts/monitor/**

# Test infrastructure (cmd_024)
!tests/
!tests/**

# Queue HQ (cmd_032)
!queue/
!queue/hq/
!queue/hq/**
